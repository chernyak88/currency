(this.webpackJsonpcurrency=this.webpackJsonpcurrency||[]).push([[0],{10:function(e,t,n){e.exports=n(18)},15:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(5),u=n.n(c),i=(n(15),n(1)),o=n.n(i),l=n(2),s=n(6),m=n(7),f=n(9),p=n(8),h=(n(17),[{func:function(){return fetch("https://www.cbr-xml-daily.ru/daily_json.js").then((function(e){return e.json()})).then((function(e){return{currency:e.Valute.EUR.Name,rate:e.Valute.EUR.Value,nominal:e.Valute.EUR.Nominal}}))}},{func:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.cbr-xml-daily.ru/daily_utf8.xml");case 2:return t=e.sent,e.next=5,t.text();case 5:return n=e.sent,r=new DOMParser,a=r.parseFromString(n,"application/xml"),c={currency:a.querySelector('*[ID="R01239"] Name').innerHTML,rate:a.querySelector('*[ID="R01239"] Value').innerHTML,nominal:a.querySelector('*[ID="R01239"] Nominal').innerHTML},e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),y=n(3),w=n.n(y);var v=function(e){return a.a.createElement("div",{className:w.a.QuoteView},a.a.createElement("h1",null,"\u041a\u0443\u0440\u0441 ",e.currency," \u043f\u043e \u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u044e \u043a \u0440\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u043e\u043c\u0443 \u0440\u0443\u0431\u043b\u044e"),a.a.createElement("ul",null,e.rate&&a.a.createElement("li",null,e.nominal," ",e.currency," = ",e.rate," \u0440\u0443\u0431\u043b\u0435\u0439"),!e.rate&&a.a.createElement("li",{className:w.a.error},"\u0441\u0435\u0440\u0432\u0438\u0441 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d")))},d=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={currency:"",rate:"",nominal:""},e.mounted=!1,e.intervalId=null,e.fetchNewRate=Object(l.a)(o.a.mark((function t(){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=0;case 1:if(!(n<h.length)){t.next=19;break}return t.prev=2,t.next=5,h[n].func();case 5:if(r=t.sent,e.mounted){t.next=8;break}return t.abrupt("break",19);case 8:return e.setState({currency:r.currency,rate:r.rate,nominal:r.nominal}),t.abrupt("break",19);case 12:return t.prev=12,t.t0=t.catch(2),console.error("error when fetching: ",t.t0),t.abrupt("continue",16);case 16:n++,t.next=1;break;case 19:case"end":return t.stop()}}),t,null,[[2,12]])}))),e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchNewRate(),this.intervalId=setInterval(this.fetchNewRate,1e4)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,clearInterval(this.intervalId)}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(v,{currency:this.state.currency,rate:this.state.rate,nominal:this.state.nominal}))}}]),n}(a.a.Component);u.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(d,null)),document.getElementById("root"))},3:function(e,t,n){e.exports={QuoteView:"QuoteView_QuoteView__1JAA9",error:"QuoteView_error__3UnBm"}}},[[10,1,2]]]);
//# sourceMappingURL=main.40f89df6.chunk.js.map